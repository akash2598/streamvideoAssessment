{"ast":null,"code":"import { createElement as e } from \"react\";\nimport o from \"dashjs\";\n\nvar t = function (t) {\n  var r, n, u;\n  return function (e) {\n    var t = o.MediaPlayer().create();\n    document.addEventListener(\"DOMContentLoaded\", function () {\n      var o = document.querySelector(\"#video\");\n      t.extend(\"RequestModifier\", function () {\n        return {\n          modifyRequestHeader: function (o) {\n            return o.setRequestHeader(\"\" + e.requestHeader, \"\" + e.requestToken), o;\n          },\n          modifyRequestURL: function (o) {\n            return o + \"?\" + e.query;\n          }\n        };\n      }, !0), t.initialize(o, e.remoteUrl, e.autoPlay);\n    });\n  }({\n    autoPlay: t.autoPlay,\n    remoteUrl: t.remoteUrl,\n    requestHeader: null === (r = t.options) || void 0 === r ? void 0 : r.requestHeader,\n    requestToken: null === (n = t.options) || void 0 === n ? void 0 : n.requestToken,\n    query: null === (u = t.options) || void 0 === u ? void 0 : u.query\n  }), e(\"video\", {\n    id: \"video\",\n    loop: !0,\n    className: t.className,\n    controls: t.controls,\n    style: t.style,\n    contextMenu: t.contextMenu,\n    controlsList: t.controlsList,\n    autoPlay: t.autoPlay,\n    preload: \"auto\"\n  });\n};\n\nexport { t as Video };","map":{"version":3,"sources":["../src/index.tsx","../src/helpers/stream.ts"],"names":["Video","props","useDash","autoPlay","remoteUrl","requestHeader","options","requestToken","query","React","id","loop","className","controls","style","contextMenu","controlsList","preload","player","Dash","MediaPlayer","create","document","addEventListener","videoElement","querySelector","extend","modifyRequestHeader","xhr","setRequestHeader","modifyRequestURL","url","initialize"],"mappings":";;;IAMaA,CAAAA,GAAQ,UAACC,CAAD,EAACA;AAAAA,MAAAA,CAAAA,EAAAA,CAAAA,EAAAA,CAAAA;AASpB,SCXqB,UAACA,CAAD,EAACA;AACtB,QAAMiB,CAAAA,GAASC,CAAAA,CAAKC,WAALD,GAAmBE,MAAnBF,EAAf;AACAG,IAAAA,QAAAA,CAASC,gBAATD,CAA0B,kBAA1BA,EAA8C,YAAA;AAC5C,UAAME,CAAAA,GAAoBF,QAAAA,CAASG,aAATH,CAAuB,QAAvBA,CAA1B;AACAJ,MAAAA,CAAAA,CAAOQ,MAAPR,CACE,iBADFA,EAEE,YAAA;AACE,eAAO;AACLS,UAAAA,mBAAAA,EAAqB,UAAUC,CAAV,EAAUA;AAM7B,mBALAA,CAAAA,CAAIC,gBAAJD,CAAIC,KACC5B,CAAAA,CAAMI,aADXuB,EACWvB,KACNJ,CAAAA,CAAMM,YAFXqB,GAKOA,CAAP;AAAOA,WAPJ;AASLE,UAAAA,gBAAAA,EAAkB,UAAUC,CAAV,EAAUA;AAC1B,mBAAUA,CAAAA,GAAAA,GAAAA,GAAO9B,CAAAA,CAAMO,KAAvB;AAAuBA;AAVpB,SAAP;AAU2BA,OAb/BU,EAa+BV,CAI7B,CAjBFU,GAmBAA,CAAAA,CAAOc,UAAPd,CAAkBM,CAAlBN,EAAgCjB,CAAAA,CAAMG,SAAtCc,EAAiDjB,CAAAA,CAAME,QAAvDe,CAnBAA;AAmBuDf,KArBzDmB;ADCApB,GCHqB,CDGb;AACNC,IAAAA,QAAAA,EAAUF,CAAAA,CAAME,QADV;AAENC,IAAAA,SAAAA,EAAWH,CAAAA,CAAMG,SAFX;AAGNC,IAAAA,aAAAA,EAAAA,UAAAA,CAAAA,GAAeJ,CAAAA,CAAMK,OAArBD,KAAqBC,KAAAA,CAAAA,KAAAA,CAArBD,GAAqBC,KAAAA,CAArBD,GAAeJ,CAAAA,CAAeI,aAHxB;AAINE,IAAAA,YAAAA,EAAAA,UAAAA,CAAAA,GAAcN,CAAAA,CAAMK,OAApBC,KAAoBD,KAAAA,CAAAA,KAAAA,CAApBC,GAAoBD,KAAAA,CAApBC,GAAcN,CAAAA,CAAeM,YAJvB;AAKNC,IAAAA,KAAAA,EAAAA,UAAAA,CAAAA,GAAOP,CAAAA,CAAMK,OAAbE,KAAaF,KAAAA,CAAAA,KAAAA,CAAbE,GAAaF,KAAAA,CAAbE,GAAOP,CAAAA,CAAeO;AALhB,GCHa,GDYnBC,CAAAA,CAAAA,OAAAA,EAAAA;AACEC,IAAAA,EAAAA,EAAG,OADLD;AAEEE,IAAAA,IAAAA,EAAAA,CAAAA,CAFFF;AAGEG,IAAAA,SAAAA,EAAWX,CAAAA,CAAMW,SAHnBH;AAIEI,IAAAA,QAAAA,EAAUZ,CAAAA,CAAMY,QAJlBJ;AAKEK,IAAAA,KAAAA,EAAOb,CAAAA,CAAMa,KALfL;AAMEM,IAAAA,WAAAA,EAAad,CAAAA,CAAMc,WANrBN;AAOEO,IAAAA,YAAAA,EAAcf,CAAAA,CAAMe,YAPtBP;AAQEN,IAAAA,QAAAA,EAAUF,CAAAA,CAAME,QARlBM;AASEQ,IAAAA,OAAAA,EAAQ;AATVR,GAAAA,CADF;AAUY,C;;AAAA,SAAA,CAAA,IAAA,KAAA","sourcesContent":["/* eslint-disable no-unused-vars */\nimport * as React from 'react'\nimport { props } from './types'\n\nimport { useDash } from './helpers/stream'\n\nexport const Video = (props: props) => {\n  useDash({\n    autoPlay: props.autoPlay,\n    remoteUrl: props.remoteUrl,\n    requestHeader: props.options?.requestHeader,\n    requestToken: props.options?.requestToken,\n    query: props.options?.query\n  })\n\n  return (\n    <video\n      id='video'\n      loop\n      className={props.className}\n      controls={props.controls}\n      style={props.style}\n      contextMenu={props.contextMenu}\n      controlsList={props.controlsList}\n      autoPlay={props.autoPlay}\n      preload='auto'\n    />\n  )\n}\n","/* eslint-disable no-unused-vars */\nimport Dash from 'dashjs'\nimport { dash } from '../types'\n\nexport const useDash = (props: dash) => {\n  const player = Dash.MediaPlayer().create()\n  document.addEventListener('DOMContentLoaded', () => {\n    const videoElement: any = document.querySelector('#video')\n    player.extend(\n      'RequestModifier',\n      function () {\n        return {\n          modifyRequestHeader: function (xhr: XMLHttpRequest) {\n            xhr.setRequestHeader(\n              `${props.requestHeader}`,\n              `${props.requestToken}`\n            )\n\n            return xhr\n          },\n          modifyRequestURL: function (url: string) {\n            return `${url}?${props.query}`\n          }\n        }\n      },\n      true\n    )\n    player.initialize(videoElement, props.remoteUrl, props.autoPlay)\n  })\n}\n"]},"metadata":{},"sourceType":"module"}